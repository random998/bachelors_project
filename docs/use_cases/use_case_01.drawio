<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64; rv:142.0) Gecko/20100101 Firefox/142.0" version="28.0.7">
  <diagram name="Page-1" id="_nZ5iTKEZ4V2tZZ-rllo">
    <mxGraphModel dx="12425" dy="1011" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="11000" pageHeight="8500" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="hgJZADKU_P4NnAxHEHUH-2" value="proposed_state_transition" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="230" width="380" height="190" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-3" value="+ time:&amp;nbsp; type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="hgJZADKU_P4NnAxHEHUH-2">
          <mxGeometry y="26" width="380" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-4" value="+ allowed_appenders: Collection&amp;lt;Pubkey&amp;gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="hgJZADKU_P4NnAxHEHUH-2">
          <mxGeometry y="52" width="380" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-5" value="&lt;div&gt;+ prev_state_hash: Hash&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+ signature:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+ action_data: data&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+ seq. number:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="hgJZADKU_P4NnAxHEHUH-2">
          <mxGeometry y="78" width="380" height="112" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-6" value="Player 1" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;" vertex="1" parent="1">
          <mxGeometry x="-110" y="280" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-7" value="sends" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.022;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="hgJZADKU_P4NnAxHEHUH-6" target="hgJZADKU_P4NnAxHEHUH-5">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="240" y="470" as="sourcePoint" />
            <mxPoint x="320" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-8" value="Player 2" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;" vertex="1" parent="1">
          <mxGeometry x="720" y="290" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-9" value="receives" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1.009;exitY=0.092;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="hgJZADKU_P4NnAxHEHUH-5">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="560" y="420" as="sourcePoint" />
            <mxPoint x="720" y="318" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-10" value="&lt;div align=&quot;left&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Player 2 verifies proposed_transition:&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;1. is the prev_state_hash correct?&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;2. Does the signature belong to an allowed_appender of the previous block?&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;3. Does the action_data contain a legal action, given the previous state of the game?&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;4. Is the sequence number legal?&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Player 2 can then either ACK (acknowledge) the proposed transition, or NACK (challenge/ refute) it.&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="710" y="370" width="460" height="110" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-12" value="&lt;div align=&quot;left&quot;&gt;Scenario 1: Player1 proposes a state_transition, and all other players at the table acknowledge it.&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="70" y="140" width="740" height="30" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-16" value="sends" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1.009;exitY=0.092;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="750" y="319.76" as="sourcePoint" />
            <mxPoint x="1240" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-17" value="proposed_state_transition_ACK" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="238" width="380" height="164" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-18" value="+ time_stamp:&amp;nbsp; type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="hgJZADKU_P4NnAxHEHUH-17">
          <mxGeometry y="26" width="380" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-20" value="&lt;div&gt;+ prev_state_hash: Hash&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+ signature:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+ acknowledged_proposed_transition_hash: Hash&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+ seq. number:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="hgJZADKU_P4NnAxHEHUH-17">
          <mxGeometry y="52" width="380" height="112" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-21" value="&lt;div align=&quot;left&quot;&gt;Player 1 was the only player in allowed_appenders of the previous state_transition, he now does the following:&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;1. Given the current, decide on an action and broadcast it to all other players as a proposed_state_transition.&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;2. Wait until all other players have sent an ACK message, acknowledging his proposition.&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;3. Apply the proposed state transition.&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-270" y="370" width="460" height="110" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-22" value="Player 3" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="720" y="550" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-23" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.681;exitY=1.015;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="hgJZADKU_P4NnAxHEHUH-5" target="hgJZADKU_P4NnAxHEHUH-22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="850" y="470" as="sourcePoint" />
            <mxPoint x="900" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-24" value="receives" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="hgJZADKU_P4NnAxHEHUH-23">
          <mxGeometry x="0.0606" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-26" value="&lt;div align=&quot;left&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Player 3 verifies proposed_transition, acknowledges it.&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="590" y="630" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-27" value="proposed_state_transition_ACK" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="496" width="380" height="164" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-28" value="+ time_stamp:&amp;nbsp; type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="hgJZADKU_P4NnAxHEHUH-27">
          <mxGeometry y="26" width="380" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-29" value="&lt;div&gt;+ prev_state_hash: Hash&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+ signature:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+ acknowledged_proposed_transition_hash: Hash&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+ seq. number:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="hgJZADKU_P4NnAxHEHUH-27">
          <mxGeometry y="52" width="380" height="112" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-30" value="sends" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1.009;exitY=0.092;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.007;entryY=0.251;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="hgJZADKU_P4NnAxHEHUH-29">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="740" y="579.76" as="sourcePoint" />
            <mxPoint x="950" y="580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-31" value="Player 3" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="1880" y="410" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-34" value="&lt;div&gt;As soon as Player 3 has received the ACK messages of Player 2 and of Player 1,&lt;/div&gt;&lt;div&gt;&amp;nbsp;he advances his current state with the proposed state transition.&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1940" y="385" width="460" height="110" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-35" value="receives" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.247;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="hgJZADKU_P4NnAxHEHUH-20" target="hgJZADKU_P4NnAxHEHUH-31">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="1910" y="290" as="sourcePoint" />
            <mxPoint x="2400" y="290.24" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-36" value="receives" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1.003;exitY=0.275;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="hgJZADKU_P4NnAxHEHUH-29" target="hgJZADKU_P4NnAxHEHUH-31">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="1910" y="570" as="sourcePoint" />
            <mxPoint x="2185" y="692" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-37" value="Player 1" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="1870" y="150" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-38" value="&lt;div&gt;As soon as Player 1 himself acknowledge the proposed_state_transition, and has received the ACKs of all other players expect himself and the player making the proposal, he advances his current state with the proposed state transition.&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1930" y="130" width="460" height="110" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-39" value="receives" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0.998;exitY=0.001;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="hgJZADKU_P4NnAxHEHUH-20" target="hgJZADKU_P4NnAxHEHUH-37">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="2170" y="500" as="sourcePoint" />
            <mxPoint x="2445" y="622" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-41" value="Player 2" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="1880" y="580" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-42" value="receives" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0.995;exitY=0.341;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="hgJZADKU_P4NnAxHEHUH-29" target="hgJZADKU_P4NnAxHEHUH-41">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="2350" y="524" as="sourcePoint" />
            <mxPoint x="2601" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hgJZADKU_P4NnAxHEHUH-43" value="&lt;div&gt;As soon as Player 1 himself acknowledge the proposed_state_transition, and has received the ACKs of all other players expect himself and the player making the proposal, he advances his current state with the proposed state transition.&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1940" y="560" width="460" height="110" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
